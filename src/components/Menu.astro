---

import { Image } from "astro:assets";
import logo from "../assets/logo.png";
import ProjectsDropdown from "../components/MenuAuthUserDropdown.astro";

---

<header class="bg-gray-800 sm:flex sm:justify-between sm:px-4 sm:py-3 sm:items-center">

    <div class="flex items-center justify-between px-4 py-3 sm:p-0 bg-gray-800">
        <div>
            <Image class="" src={logo} height="50" alt="letsweb.biz logo" fetchpriority="high" />
        </div>

        <div class="sm:hidden">
            <button id="hamburgerButton" class="text-gray-300 focus:text-white focus:outline-none hover:text-white" type="button"><span id="hamburgerIcon" class="text-4xl">&#10007;</span></button>
        </div>
    </div>

    <div id="menuItems" class="sm:block">
        <div class="px-2 pt-2 pb-4 sm:flex">
            <a class="block px-2 py-1 text-white font-semibold rounded hover:bg-gray-700" href="#">one</a>
            <a class="mt-1 block px-2 py-1 text-white font-semibold rounded hover:bg-gray-700 sm:mt-0 sm:ml-2" href="#">two</a>
            <a class="mr-6 mt-1 block px-2 py-1 text-white font-semibold rounded hover:bg-gray-700 sm:mt-0 sm:ml-2" href="#">three</a>
            <ProjectsDropdown />
        </div>

        <div class="px-4 py-4 border-t border-gray-600 sm:hidden">
            <div class="flex items-center">
                <img class="h-10 w-10 border-2 border-gray-500 rounded-full object-cover" src="https://plus.unsplash.com/premium_photo-1739131476773-02a75eb96d5d?q=80&w=2671&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"/>
                <span class="ml-3 text-white font-semibold">Tomasz Ku≈õmierczyk</span>
            </div>
            <div class="mt-4">
                <a href="#" class="block text-gray-400 hover:text-white">Dashboard</a>
                <a href="#" class="mt-2 block text-gray-400 hover:text-white">Logout</a>
            </div>
        </div>

    </div>
</header>

<script>
    var isOpen = true; 
    const menuItems = document.getElementById("menuItems")
    const hamburgerIcon = document.getElementById('hamburgerIcon')

    const openIcon = "&#9776;"
    function hideBurgerMenu(){
        menuItems?.classList.remove("block")
        menuItems?.classList.add("hidden")
        if(hamburgerIcon){
            hamburgerIcon.innerHTML=openIcon
        }
    }

    const closeIcon = "&#10007;"
    function showBurgerMenu(){
        menuItems?.classList.add("block")
        menuItems?.classList.remove("hidden")
        if(hamburgerIcon)
        hamburgerIcon.innerHTML=closeIcon
    }

    hideBurgerMenu();

    const hamburgerButton = document.getElementById("hamburgerButton")
    hamburgerButton?.addEventListener('click', ()=>{
    if(isOpen){
        showBurgerMenu()
    } else {
        hideBurgerMenu()
    }
        isOpen = !isOpen
    })

</script>